# java-kanban
Repository for homework project.

## Описание
Backend трекера задач для управления задачами, эпиками и подзадачами.

## Функциональность
- Создание, обновление и удаление задач трех типов
- Автоматический расчет статуса эпика на основе подзадач
- Управление связями между эпиками и подзадачами
- Уникальная идентификация всех задач по ID

## Структура репозитория

```markdown

src/
├── Main.java                   # Точка входа, тестовый сценарий
├── Tasks/                      # Пакет для классов задач
│   ├── Task.java               # Базовый класс задачи
│   ├── Epic.java               # Класс эпика (наследник Task)
│   └── Subtask.java            # Класс подзадачи (наследник Task)
├── Manager/                    # Пакет для менеджера задач
│   └── TaskManager.java        # Основной класс управления задачами
└── Tools/                      # Пакет для вспомогательных классов
    └── TaskStatus.java         # Перечисление статусов задач

```

## Классы задач

### Task - Базовый класс задачи
Хранит основные свойства задачи: id, название, описание и статус.

**Конструктор:** `Task(String title, String description, TaskStatus status)`

### Epic - Класс эпика
Наследуется от Task. Представляет сложную задачу, состоящую из подзадач.

**Дополнительные свойства:**
- `subtaskIds` - список ID подзадач

**Особенность:** Статус эпика рассчитывается автоматически менеджером.

### Subtask - Класс подзадачи
Наследуется от Task. Представляет задачу, относящуюся к эпику.

**Дополнительные свойства:**
- `epicId` - ID родительского эпика

## TaskManager - Менеджер задач
Централизованное управление всеми типами задач.

### Хранение данных
- Три HashMap для раздельного хранения задач
- Уникальная генерация ID через счетчик
- Быстрый доступ O(1) по идентификатору

### Основные методы

**Для обычных задач (Task):**
- `getAllTasks()` - возвращает список всех обычных задач
- `deleteAllTasks()` - удаляет все обычные задачи
- `getTaskById(int id)` - возвращает задачу по её идентификатору
- `createTask(Task task)` - создаёт новую задачу, присваивает уникальный ID
- `updateTask(Task task)` - обновляет существующую задачу
- `deleteTaskById(int id)` - удаляет задачу по идентификатору

**Для эпиков (Epic):**
- `getAllEpics()` - возвращает список всех эпиков
- `deleteAllEpics()` - удаляет все эпики и их подзадачи
- `getEpicById(int id)` - возвращает эпик по его идентификатору
- `createEpic(Epic epic)` - создаёт новый эпик, присваивает уникальный ID
- `updateEpic(Epic epic)` - обновляет название и описание эпика (статус не обновляется)
- `deleteEpicById(int id)` - удаляет эпик и все его подзадачи

**Для подзадач (Subtask):**
- `getAllSubtasks()` - возвращает список всех подзадач
- `deleteAllSubtasks()` - удаляет все подзадачи и обновляет статусы эпиков
- `getSubtaskById(int id)` - возвращает подзадачу по её идентификатору
- `createSubtask(Subtask subtask)` - создаёт новую подзадачу с проверкой существования эпика
- `updateSubtask(Subtask subtask)` - обновляет подзадачу с обработкой изменения epicId
- `deleteSubtaskById(int id)` - удаляет подзадачу и обновляет статус её эпика

**Дополнительные методы:**
- `getSubtasksByEpicId(int epicId)` - возвращает все подзадачи определённого эпика

### Расчет статуса эпика
Статус автоматически пересчитывается при изменении подзадач:

1. Нет подзадач → NEW
2. Все подзадачи NEW → NEW
3. Все подзадачи DONE → DONE
4. Остальные случаи → IN_PROGRESS

## TaskStatus - Перечисление статусов
Тип данных `enum`:

- `NEW` - задача создана
- `IN_PROGRESS` - задача выполняется
- `DONE` - задача завершена

## Особенности реализации
- Наследование Epic и Subtask от Task
- Инкапсуляция полей с доступом через геттеры/сеттеры
- Проверки целостности данных и обработка ошибок
- Эффективное хранение в HashMap с быстрым доступом по ID

## Тестирование
Тестовый сценарий в Main.java проверяет:
- Создание задач, эпиков и подзадач
- Изменение статусов и автоматический расчет статуса эпика
- Удаление объектов и целостность данных

## Версии
- Sprint 4 Version 1.0.0 - add 1st version backend TaskManager.